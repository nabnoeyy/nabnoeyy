<script setup>
import { ref, onMounted } from "vue";

//‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

const myName = ref("");
const studentID = "664259009";

//‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å json
const fetchData = async () => {
    try {
        const response = await fetch ("/data.json"); // ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå JSON 
        const data = await response.json();

        //‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏≤‡∏î‡πâ‡∏ß‡∏¢ ID

        const student = data.students.find((s) => s.id ===studentID);

        if (student) {
            myName.value = student.name;
        }
    } catch (error) {
        console.error ("‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏à‡πâ‡∏≤‡∏™‡∏≤‡∏ß",error);
    }
};

// ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≠‡∏ô Component ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
onMounted(fetchData);
</script>

<template>
  <div>
    <h1>‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ! üëã</h1>
    <h2 v-if="myName">‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠: {{ myName }}</h2>
    <h2 v-else>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</h2>
  </div>
</template>

<style scoped>
h1 {
  color: #42b983;
}
</style>